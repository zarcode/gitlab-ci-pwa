(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(t,e,n){t.exports=n(171)},124:function(t,e,n){},171:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(94),o=n.n(r),i=(n(124),n(48)),u=n(108),b=n(187),l=n(190),p=n(189),d=n(23),O=function(t,e){var n=JSON.stringify(e);try{localStorage.setItem(t,n)}catch(c){console.log(c)}},j=function(t){try{var e=localStorage.getItem(t);if(!e)return;return JSON.parse(e)}catch(n){return void console.log(n)}},s=n(77),f=s.clientId,E=s.domain,g=s.root,I=function(t,e){return function(){O("stateHash",t),window.location.href=e}};var S,h=function(t){var e=t.hash,n="https://gitlab.com/oauth/authorize?client_id=".concat(f,"&redirect_uri=").concat(E).concat(g)+"&response_type=token&state=".concat(e);return a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("button",{onClick:I(e,n)},"Login"))))},m=n(97),C=function(t){return Object(m.h32)("string"===typeof t?t:JSON.stringify(t),43981).toString(16)},_=n(10),v=n(2),T=n(17),P=n.n(T),y=n(9),L=n.n(y),F=P.a.modify,H=Object(v.d)(["auth","isAuthenticated"]),N=Object(v.d)(["auth","token"]),k={isAuthenticated:!1,token:void 0},w=Object(v.b)("LOGIN_REQUESTED"),U=Object(v.b)("LOGIN_SUCCESS"),A=Object(v.b)("LOGOUT"),R=Object(v.c)((S={},Object(_.a)(S,"LOGIN_SUCCESS",function(t){return F(L()(Object(v.g)(H,!0),Object(v.g)(N,t)))}),Object(_.a)(S,"LOGOUT",function(){return F(L()(Object(v.g)(H,!1),Object(v.g)(N,void 0)))}),S)),J=n(77).root,G=Object(c.lazy)(function(){return n.e(1).then(n.bind(null,182))}),z=Object(c.lazy)(function(){return n.e(2).then(n.bind(null,183))}),D=Object(c.lazy)(function(){return n.e(3).then(n.bind(null,184))});var x=Object(i.b)(function(t){return{state:t}},function(t){return{actions:Object(d.b)({login:w,logout:A},t)}})(function(t){var e=t.state,n=t.actions,r=e.auth,o=new URLSearchParams(window.location.hash),i=o.get("#access_token"),d=o.get("state"),O=Object(c.useState)(),s=Object(u.a)(O,2),f=s[0],E=s[1];return Object(c.useEffect)(function(){!r.isAuthenticated&&i&&d===j("stateHash")&&n.login(i),r.isAuthenticated||d||E(C(e))},[]),a.a.createElement(a.a.Fragment,null,r.isAuthenticated?a.a.createElement(a.a.Fragment,null,a.a.createElement("nav",null,a.a.createElement("button",{onClick:n.logout},"Logout")),a.a.createElement("main",null,a.a.createElement(b.a,null,a.a.createElement(c.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(l.a,null,a.a.createElement(p.a,{exact:!0,path:"".concat(J,"/"),component:G}),a.a.createElement(p.a,{path:"/project/:projectId",component:z}),a.a.createElement(p.a,{component:D})))))):a.a.createElement(h,{hash:f}))}),B=n(28),V=n(185),Q=n(188),W=n(81),X=n(117),M=n(179),$=n(180),q=n(186),K=n(181),Y=n(116),Z=n(37),tt=function(t){return t.then(function(t){if(!t.ok)throw Error(t.statusText);return t}).then(function(t){return t.json()})},et=function(t){var e=t.url,n=t.token;Object(Z.a)(t,["url","token"]);return fetch(e,{headers:{Authorization:"Bearer ".concat(n)}})},nt=L()(tt,et,function(t){return Object(B.a)({url:"https://gitlab.com/api/v4/user"},t)}),ct=L()(tt,et,function(t){var e=t.userId,n=Object(Z.a)(t,["userId"]);return Object(B.a)({url:"https://gitlab.com/api/v4/users/".concat(e,"/projects")},n)}),at=L()(tt,et,function(t){var e=t.projectId,n=Object(Z.a)(t,["projectId"]);return Object(B.a)({url:"https://gitlab.com/api/v4/projects/".concat(e,"/pipelines")},n)}),rt=L()(tt,et,function(t){var e=t.projectId,n=t.pipelineId,c=Object(Z.a)(t,["projectId","pipelineId"]);return Object(B.a)({url:"https://gitlab.com/api/v4/projects/".concat(e,"/pipelines/").concat(n)},c)}),ot=(L()(tt,et,function(t){t.projectId;var e=Object(Z.a)(t,["projectId"]);return Object(B.a)({url:"https://gitlab.com/api/v4/projects/:id/pipelines/:pipeline_id/jobs"},e)}),n(103)),it=n.n(ot),ut=P.a.modify,bt=(Object(v.b)("FETCH_USER"),Object(v.b)("FETCH_USER_SUCCESS")),lt=Object(v.b)("FETCH_USER_FAIL"),pt=Object(v.c)(Object(_.a)({},"FETCH_USER_SUCCESS",function(t){return ut(it()("user",t))})),dt=n(26),Ot=function(t){try{O("state",t)}catch(e){return{type:"NOT_SAVED"}}return{type:"SAVED"}},jt=n(109),st=n(170),ft=n(27),Et=Object(Q.a)(function(t,e){return t.pipe(Object(M.a)(function(t){return"LOGIN_REQUESTED"===t.type}),Object($.a)(function(t){return Object(W.a)(nt({token:t.payload})).pipe(Object($.a)(function(e){return Object(X.a)(bt(e)).pipe(Object(q.a)(Object(X.a)(Ot({auth:{isAuthenticated:!0,token:t.payload},user:e})),Object(X.a)(U(t.payload)),Object(X.a)(Object(dt.b)())))}),Object(K.a)(function(t){return Object(X.a)(lt(t.message))}))}))},function(t,e){return t.pipe(Object(M.a)(function(t){return"LOGOUT"===t.type}),Object(Y.a)(function(t){return Ot({auth:e.value.auth,user:{}})}))},function(t,e){return t.ofType("FETCH_PROJECTS").pipe(Object($.a)(function(){return Object(W.a)(ct({token:e.value.auth.token,userId:e.value.user.id})).pipe(Object(Y.a)(function(t){var n=e.value.pipelines.lastLoadedPage+1;return dt.e({data:t,page:n})}),Object(K.a)(function(t){return Object(X.a)(dt.d(t.message))}))}))},function(t,e){return t.ofType("FETCH_PIPELINES").pipe(Object($.a)(function(t){return Object(W.a)(at({token:e.value.auth.token,projectId:t.payload})).pipe(Object($.a)(function(n){var c=e.value.pipelines.lastLoadedPage+1;return Object(X.a)(ft.j({data:n,page:c})).pipe(q.a.apply(void 0,Object(jt.a)(n.map(function(e){return Object(X.a)({type:"FETCH_PIPELINE",pipelineId:e.id,projectId:t.payload})}))))}),Object(K.a)(function(t){return Object(X.a)(ft.i(t.message))}))}))},function(t,e){return t.ofType("FETCH_PIPELINE").pipe(Object(st.a)(function(t){return Object(W.a)(rt({token:e.value.auth.token,pipelineId:t.pipelineId,projectId:t.projectId})).pipe(Object(Y.a)(function(t){return ft.h(t)}),Object(K.a)(function(t){return Object(X.a)(ft.g(t.message))}))}))}),gt=n(107),It=n.n(gt),St={pipelines:ft.f,projects:dt.c,auth:k,user:{}},ht=Object(v.a)([R,dt.a,pt,ft.a]),mt=function(t,e){return ht(e).map(It()(t)).option(t)},Ct=j("state"),_t=Object(B.a)({},St,Ct),vt=function(){var t=Object(V.a)(),e=[t],n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,c=Object(d.d)(mt,_t,n(d.a.apply(void 0,e)));return t.run(Et),c}(),Tt=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",null,a.a.createElement("h1",null,"Gitlab CI App")),a.a.createElement(i.a,{store:vt},a.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},2:function(t,e,n){"use strict";n.d(e,"a",function(){return P}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return L});var c=n(98),a=n.n(c),r=n(17),o=n.n(r),i=n(88),u=n.n(i);n.d(e,"d",function(){return u.a});var b=n(93),l=n.n(b);n.d(e,"e",function(){return l.a});var p=n(72),d=n.n(p);n.d(e,"f",function(){return d.a});var O=n(92),j=n.n(O);n.d(e,"g",function(){return j.a});var s=n(75),f=n.n(s),E=n(49),g=n.n(E),I=n(99),S=n.n(I),h=n(100),m=n.n(h),C=n(101),_=n.n(C),v=n(87),T=n.n(v),P=g()(function(t){return m()(a.a,f()(t))}),y=function(t){return function(e){return{type:t,payload:e}}},L=function(t){return function(e){var n=e.type,c=e.payload;return _()(n,t).map(f()(c)).chain(T()(S()(o.a)))}}},26:function(t,e,n){"use strict";var c,a=n(10),r=n(2),o=n(17),i=n.n(o),u=n(9),b=n.n(u),l=n(51),p=n.n(l),d=n(104),O=n.n(d),j=i.a.modify,s=Object(r.d)(["projects","loading"]),f=Object(r.d)(["projects","lastLoadedPage"]),E=Object(r.d)(["projects","error"]),g=Object(r.d)(["projects","list"]);n.d(e,"c",function(){return I}),n.d(e,"b",function(){return S}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return m});var I={list:[],loading:!1,lastLoadedPage:0,error:void 0},S=Object(r.b)("FETCH_PROJECTS"),h=Object(r.b)("FETCH_PROJECTS_SUCCESS"),m=Object(r.b)("FETCH_PROJECTS_FAIL"),C=Object(r.c)((c={},Object(a.a)(c,"FETCH_PROJECTS",function(){return j(Object(r.g)(s,O()(!0)))}),Object(a.a)(c,"FETCH_PROJECTS_SUCCESS",function(t){var e=t.data,n=t.page;return j(b()(Object(r.g)(s,!1),Object(r.g)(f,n),Object(r.f)(g,p()(e))))}),Object(a.a)(c,"FETCH_PROJECTS_FAIL",function(t){return j(b()(Object(r.g)(s,!1),Object(r.g)(E,t)))}),c));e.a=C},27:function(t,e,n){"use strict";var c,a=n(10),r=n(62),o=n(105),i=[new r.b.Entity("pipeline")],u=n(9),b=n.n(u),l=n(49),p=n.n(l),d=n(2),O=n(17),j=n.n(O),s=n(106),f=n.n(s),E=n(51),g=n.n(E),I=j.a.modify,S=Object(d.d)(["pipelines","loading"]),h=Object(d.d)(["pipelines","error"]),m=Object(d.d)(["pipelines","lastLoadedPage"]),C=Object(d.d)(["pipelines","ids"]),_=Object(d.d)(["pipelines","byId"]);n.d(e,"f",function(){return v}),n.d(e,"b",function(){return T}),n.d(e,"j",function(){return P}),n.d(e,"i",function(){return y}),n.d(e,"h",function(){return L}),n.d(e,"g",function(){return F}),n.d(e,"d",function(){return N}),n.d(e,"c",function(){return k}),n.d(e,"e",function(){return w});var v={byId:{},ids:[],lastLoadedPage:0,loading:!1},T=Object(d.b)("FETCH_PIPELINES"),P=b()(Object(d.b)("FETCH_PIPELINES_SUCCESS"),Object(d.f)(Object(d.e)("data"),p()(r.a)(i))),y=Object(d.b)("FETCH_PIPELINES_FAIL"),L=(Object(d.b)("FETCH_PIPELINE"),Object(d.b)("FETCH_PIPELINE_SUCCESS")),F=Object(d.b)("FETCH_PIPELINE_FAIL"),H=Object(d.c)((c={},Object(a.a)(c,"FETCH_PIPELINES",function(){return I(Object(d.g)(S,!0))}),Object(a.a)(c,"FETCH_PIPELINES_SUCCESS",function(t){var e=t.data,n=t.page;return I(b()(Object(d.g)(S,!1),Object(d.g)(m,n),Object(d.f)(_,f()(e.entities.pipeline)),Object(d.f)(C,g()(e.result))))}),Object(a.a)(c,"FETCH_PIPELINES_FAIL",function(t){return I(b()(Object(d.g)(S,!1),Object(d.g)(h,t)))}),Object(a.a)(c,"FETCH_PIPELINE_SUCCESS",function(t){return I(Object(d.g)((e=t.id,Object(d.d)(["pipelines","byId",e])),t));var e}),c)),N=(e.a=H,function(t){return t.pipelines.loading}),k=function(t){return t.pipelines.lastLoadedPage},w=Object(o.a)([function(t){return t.pipelines.ids},function(t){return t.pipelines.byId}],function(t,e){return t.map(function(t){return e[t]})})},77:function(t){t.exports={domain:"https://zarcode.github.io",root:"/gitlab-ci-pwa",clientId:"134f639e5be587597c61a236573989ad112728cdb7c45b063ddbd327efb0a4d1"}}},[[119,5,4]]]);
//# sourceMappingURL=main.92fcd86c.chunk.js.map